(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[285],{5882:function(e,a,r){Promise.resolve().then(r.bind(r,2532))},2532:function(e,a,r){"use strict";r.r(a),r.d(a,{default:function(){return u}});var o=r(7437),i=r(2265),t=r(7648),n=r(9376),_=r(1542),c=r(4513),l=r(6777),s=r.n(l),p=r(3708),d=r.n(p);let h=r(257).env.NEXT_PUBLIC_PAYPAL_CLIENT_ID||"";function g(){let e=(0,n.useSearchParams)(),{cart:a,clearCart:r}=(0,c.j)(),[l,p]=(0,i.useState)("idle"),[g,u]=(0,i.useState)(!1),f=a.reduce((e,a)=>e+a.price,0);async function m(){u(!0);try{let e=await fetch("/api/checkout/stripe",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({cart:a})}),r=await e.json();if(!e.ok)throw Error(r.error||"Checkout failed");r.url&&(window.location.href=r.url)}catch(e){p("error"),u(!1)}}return((0,i.useEffect)(()=>{"stripe"===e.get("success")&&a.length>0&&(r(),p("sent"),window.history.replaceState({},"","/checkout"))},[e,a.length,r]),0===a.length&&"sent"!==l)?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("header",{className:s().header,children:(0,o.jsxs)("nav",{className:s().nav,children:[(0,o.jsx)(t.default,{href:"/",className:s().logo,children:"Safe Mode"}),(0,o.jsxs)("div",{className:s().navRight,children:[(0,o.jsxs)("ul",{className:s().navLinks,children:[(0,o.jsx)("li",{children:(0,o.jsx)(t.default,{href:"/#offerings",children:"Offerings"})}),(0,o.jsx)("li",{children:(0,o.jsx)(t.default,{href:"/work",children:"Work"})}),(0,o.jsx)("li",{children:(0,o.jsx)(t.default,{href:"/blog",children:"Blog"})}),(0,o.jsx)("li",{children:(0,o.jsx)(t.default,{href:"/#contact",children:"Contact"})})]}),(0,o.jsx)(t.default,{href:"/cart",className:s().cartIcon,"aria-label":"Cart",children:"Cart"})]})]})}),(0,o.jsxs)("main",{id:"main-content",className:d().main,children:[(0,o.jsx)("p",{className:d().empty,children:"Your cart is empty."}),(0,o.jsx)(t.default,{href:"/#offerings",className:s().ctaPrimary,children:"View offerings"})]})]}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("header",{className:s().header,children:(0,o.jsxs)("nav",{className:s().nav,children:[(0,o.jsx)(t.default,{href:"/",className:s().logo,children:"Safe Mode"}),(0,o.jsxs)("div",{className:s().navRight,children:[(0,o.jsxs)("ul",{className:s().navLinks,children:[(0,o.jsx)("li",{children:(0,o.jsx)(t.default,{href:"/#offerings",children:"Offerings"})}),(0,o.jsx)("li",{children:(0,o.jsx)(t.default,{href:"/#why-us",children:"Why us"})}),(0,o.jsx)("li",{children:(0,o.jsx)(t.default,{href:"/work",children:"Work"})}),(0,o.jsx)("li",{children:(0,o.jsx)(t.default,{href:"/blog",children:"Blog"})}),(0,o.jsx)("li",{children:(0,o.jsx)(t.default,{href:"/#faq",children:"FAQ"})}),(0,o.jsx)("li",{children:(0,o.jsx)(t.default,{href:"/#contact",children:"Contact"})})]}),(0,o.jsxs)(t.default,{href:"/cart",className:s().cartIcon,"aria-label":"Cart",children:[(0,o.jsxs)("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":!0,children:[(0,o.jsx)("circle",{cx:"9",cy:"21",r:"1"}),(0,o.jsx)("circle",{cx:"20",cy:"21",r:"1"}),(0,o.jsx)("path",{d:"M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"})]}),a.length>0&&(0,o.jsx)("span",{className:d().badge,children:a.length})]})]})]})}),(0,o.jsx)("main",{id:"main-content",className:d().main,children:(0,o.jsxs)("div",{className:d().wrapper,children:[(0,o.jsx)(t.default,{href:"/cart",className:d().backLink,children:"← Back to cart"}),(0,o.jsx)("h1",{className:d().title,children:"Payment"}),(0,o.jsxs)("div",{className:d().summary,children:[(0,o.jsx)("span",{children:"Order total"}),(0,o.jsxs)("span",{children:["$",f.toLocaleString()]})]}),"sent"===l?(0,o.jsx)("p",{className:s().formSuccess,children:"Transaction successful."}):(0,o.jsxs)(o.Fragment,{children:["error"===l&&(0,o.jsx)("p",{className:s().formError,role:"alert",children:"Something went wrong. Please try again."}),(0,o.jsx)("p",{className:d().chooseLabel,children:"Pay with"}),(0,o.jsxs)("div",{className:d().paymentOptions,children:[(0,o.jsx)("button",{type:"button",className:d().stripeBtn,onClick:m,disabled:g,children:g?"Redirecting…":"Stripe"}),h&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("span",{className:d().or,children:"or"}),(0,o.jsx)("div",{className:d().paypalWrap,children:(0,o.jsx)(_.ch,{style:{layout:"vertical"},createOrder:async()=>{let e=await fetch("/api/checkout/paypal/order",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({amount:f})}),a=await e.json();if(!e.ok)throw Error(a.error||"Order failed");return a.orderID},onApprove:async e=>{let a=await fetch("/api/checkout/paypal/capture",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({orderID:e.orderID})});(await a.json()).ok&&(r(),p("sent"))},onError:()=>p("error")})})]})]})]})]})})]})}function u(){return(0,o.jsx)(_.Vv,{options:{clientId:h,currency:"USD",intent:"capture"},children:(0,o.jsx)(i.Suspense,{fallback:(0,o.jsx)("div",{className:d().main,children:"Loading…"}),children:(0,o.jsx)(g,{})})})}},4513:function(e,a,r){"use strict";r.d(a,{Z:function(){return c},j:function(){return l}});var o=r(7437),i=r(2265);let t=[{id:"audit",name:"Product & UX Audit",price:0},{id:"discovery",name:"Discovery Program",price:25e3},{id:"sprint",name:"Add a Sprint",price:6200}],n="safemode_cart",_=(0,i.createContext)(null);function c(e){let{children:a}=e,[r,c]=(0,i.useState)([]),[l,s]=(0,i.useState)(!1);(0,i.useEffect)(()=>{try{let e=localStorage.getItem(n);if(e){let a=JSON.parse(e);Array.isArray(a)&&c(a)}}catch(e){}},[]);let p=(0,i.useCallback)(e=>{c(e);try{localStorage.setItem(n,JSON.stringify(e))}catch(e){}},[]),d=(0,i.useCallback)(e=>{let a=t.find(a=>a.name===e)||null;a&&(p([...r,{id:a.id,name:a.name,price:a.price}]),s(!0))},[r,p]),h=(0,i.useCallback)(e=>{let a=r.findIndex(a=>a.id===e);-1!==a&&p(r.slice(0,a).concat(r.slice(a+1)))},[r,p]),g=(0,i.useCallback)(e=>{e<0||e>=r.length||p(r.slice(0,e).concat(r.slice(e+1)))},[r,p]),u=(0,i.useCallback)(()=>{p([])},[p]),f=(0,i.useCallback)(()=>{s(!1)},[]);return(0,o.jsx)(_.Provider,{value:{cart:r,addItem:d,removeItem:h,removeItemAt:g,clearCart:u,showAddModal:l,closeAddModal:f},children:a})}function l(){let e=(0,i.useContext)(_);if(!e)throw Error("useCart must be used within CartProvider");return e}},3708:function(e){e.exports={main:"checkout_main__IL5B4",wrapper:"checkout_wrapper__bjVvo",backLink:"checkout_backLink__OUIAz",title:"checkout_title__7eRZ6",summary:"checkout_summary__bP_lp",chooseLabel:"checkout_chooseLabel__MEueA",paymentOptions:"checkout_paymentOptions__OZr7S",stripeBtn:"checkout_stripeBtn__aZdco",or:"checkout_or__HNmDb",paypalWrap:"checkout_paypalWrap__ZtkVa",form:"checkout_form__uvbXe",label:"checkout_label__LyONJ",submit:"checkout_submit__mkgbU",row:"checkout_row__BeG7I",empty:"checkout_empty__50LFj",badge:"checkout_badge__KdakB"}},6777:function(e){e.exports={sectionNum:"page_sectionNum__oYTBS",deliverablesSection:"page_deliverablesSection__RJCzD",whySection:"page_whySection__GjgQC",processSection:"page_processSection__S6g9F",solutionsSection:"page_solutionsSection__wVkQ5",contactSection:"page_contactSection__B7plO",sectionLabel:"page_sectionLabel__JSrPB",blockLabel:"page_blockLabel__fNjMl",header:"page_header__oRW75",nav:"page_nav__ijo23",logo:"page_logo__ikIZE",navLinks:"page_navLinks__8rPi_",cartIcon:"page_cartIcon__PJZNU",hero:"page_hero__7KFOs",heroLabel:"page_heroLabel__4YX7y",heroContent:"page_heroContent__dzLob",card:"page_card__Cf__u",solutionBlock:"page_solutionBlock__zDStJ",input:"page_input__lx_gt",textarea:"page_textarea__aR4ZX",stepNum:"page_stepNum__Ucda0",deliverableTile:"page_deliverableTile__zmt3r",ctaPrimary:"page_ctaPrimary__Nrok5",ctaSecondary:"page_ctaSecondary__5EfaG",submit:"page_submit__zUj4V",addServiceBtn:"page_addServiceBtn__j9929",flagshipBadge:"page_flagshipBadge__v0sC_",narrativeSection:"page_narrativeSection__vmvW4",section:"page_section__zQZ2o",footer:"page_footer__F3MD0",heroTitle:"page_heroTitle__ixXIp",highlight:"page_highlight__Jnelb",heroNarrative:"page_heroNarrative__ibm8S",heroDropdownWrap:"page_heroDropdownWrap__LAUvB",heroDropdownTrigger:"page_heroDropdownTrigger__4Zv3B",heroDropdownRed:"page_heroDropdownRed__2YjM3",heroDropdownGold:"page_heroDropdownGold__7pPD5",heroDropdownList:"page_heroDropdownList__b7IC2",heroDropdownOption:"page_heroDropdownOption__wYY9T",heroDropdownOptionActive:"page_heroDropdownOptionActive__pS4JY",heroDropdownOptionGold:"page_heroDropdownOptionGold__36IoN",heroCtas:"page_heroCtas__lz7_7",heroSub:"page_heroSub__fi66w",narrativeLead:"page_narrativeLead__KHnQd",narrativeFollow:"page_narrativeFollow__ZcOkF",whyTitle:"page_whyTitle__R2Hfy",whyLead:"page_whyLead__z0yij",whyBulletList:"page_whyBulletList__kpmwi",whyLogosLabel:"page_whyLogosLabel__zmQkv",companyLogos:"page_companyLogos__f1Z9C",companyLogoName:"page_companyLogoName__KO5fz",whySubTitle:"page_whySubTitle__hCb_S",whyBody:"page_whyBody__g5NP9",inlineLink:"page_inlineLink__DxdIx",processLink:"page_processLink__1rV2v",processBtn:"page_processBtn__O1eIh",deliverablesGroup:"page_deliverablesGroup__csvd7",deliverablesGroupTitle:"page_deliverablesGroupTitle__QUgRx",deliverablesGrid:"page_deliverablesGrid__ahjmg",freeBadge:"page_freeBadge__4tbtt",deliverableIcon:"page_deliverableIcon__CoZaJ",deliverableLabel:"page_deliverableLabel__fXzcn",solutionsTitle:"page_solutionsTitle__gMja6",solutionBlockFlagship:"page_solutionBlockFlagship__OC_hn",solutionNum:"page_solutionNum__rtQZE",solutionTitle:"page_solutionTitle__suV_B",solutionPrice:"page_solutionPrice__o_cVr",solutionWho:"page_solutionWho__R7liD",solutionGrid:"page_solutionGrid__zvdPm",bulletList:"page_bulletList__bD1JD",sectionTitle:"page_sectionTitle__6ic_4",steps:"page_steps__B4_i4",pricingIntro:"page_pricingIntro__14eRX",pricingGrid:"page_pricingGrid__hcZZ_",pricingCard:"page_pricingCard__pkYdi",pricingCardFlagship:"page_pricingCardFlagship__Z6md_",pricingName:"page_pricingName__T7pCR",pricingPrice:"page_pricingPrice__ohKqU",pricingDesc:"page_pricingDesc__Ol_hN",contactTitle:"page_contactTitle__cbkrp",contactLead:"page_contactLead__n3LY_",form:"page_form__NxPAx",selectedService:"page_selectedService__jq8Ce",selectedServiceClear:"page_selectedServiceClear__Lz4Op",label:"page_label__jI4Tf",required:"page_required__YfbF_",formError:"page_formError__esJ81",formSuccess:"page_formSuccess__y4HEg",footerInner:"page_footerInner__5TPTB",footerNav:"page_footerNav__vNHk8",footerText:"page_footerText__qHi3L",faq:"page_faq__2BycP",faqItem:"page_faqItem__okCCj",faqBody:"page_faqBody__L4DkJ",faqShowAll:"page_faqShowAll__rkbW2",faqShowAllSummary:"page_faqShowAllSummary__T60Lf",faqMore:"page_faqMore__cLes4"}}},function(e){e.O(0,[955,972,816,971,117,744],function(){return e(e.s=5882)}),_N_E=e.O()}]);